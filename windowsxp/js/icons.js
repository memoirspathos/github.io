var showButtons=document.querySelectorAll(".icon"),hideButtons=document.querySelectorAll(".close"),myDivs=document.querySelectorAll(".window"),clickCounts={},isMobile=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);if(isMobile){var t=null;showButtons.forEach(function(e){e.addEventListener("touchstart",function(l){l.preventDefault();var s=e.dataset.target,n=document.getElementById(s);n!==t&&showButtons.forEach(function(t){var e=t.dataset.target,l=document.getElementById(e);l!==n&&"block"===l.style.display&&(l.style.display="none",t.classList.remove("selected"))}),t=n,e.classList.add("selected"),n.style.display="block",n.style.position="absolute",n.style.top="25%","archive"===n.id?n.style.left="20%":n.style.left="35%",n.style.zIndex=getMaxZIndex()+1})});var linkElements=document.querySelectorAll(".link");linkElements.forEach(function(e){e.addEventListener("click",function(l){l.preventDefault();var s=e.dataset.target,n=document.getElementById(s);showButtons.forEach(function(t){var e=t.dataset.target,l=document.getElementById(e);l!==n&&"block"===l.style.display&&(l.style.display="none",t.classList.remove("selected"))}),t=n,n.style.display="block",n.style.position="absolute",n.style.top="30%",n.style.left="30%",n.style.zIndex=getMaxZIndex()+1})})}var linkElements=document.querySelectorAll(".link");function getMaxZIndex(){var t=0;return myDivs.forEach(function(e){if("block"===e.style.display){var l=parseInt(e.style.zIndex);l>t&&(t=l)}}),t}linkElements.forEach(function(t){t.addEventListener("click",function(){var e=t.dataset.target,l=document.getElementById(e);l.style.display="block",l.style.position="absolute",l.style.top="10%",l.style.left="30%",l.style.zIndex=getMaxZIndex()+1})}),showButtons.forEach(function(t){t.addEventListener("click",function(){var e=t.dataset.target,l=document.getElementById(e);l.style.zIndex=getMaxZIndex()+1,clickCounts[e]||(clickCounts[e]=0),clickCounts[e]++,clearTimeout(clickCounts[e+"-timeout"]),1===clickCounts[e]?(t.classList.add("selected"),clickCounts[e+"-timeout"]=setTimeout(function(){clickCounts[e]=0},300)):2===clickCounts[e]&&"block"!==l.style.display&&(t.classList.remove("selected"),l.style.display="block",l.style.position="absolute",l.style.top="10%",l.style.left="50%",clickCounts[e]=0)})}),hideButtons.forEach(function(t){t.addEventListener("click",function(){var e=t.dataset.target,l=document.getElementById(e);l.style.display="none",l.style.zIndex=1})}),document.addEventListener("click",function(t){showButtons.forEach(function(e){var l=e.dataset.target;e.contains(t.target)||(e.classList.remove("selected"),clickCounts[l]=0)})});